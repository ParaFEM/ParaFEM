FC = xlf90

#  Flags
FFLAGS= -O3 -qstrict -qtune=ppc970 -qarch=ppc970 -qcache=auto -q64

bem    = bem_lib.o

share  = precision.o

.SUFFIXES: .f90 .o

lib: $(PWD)/shared/$(share) $(PWD)/bem/$(bem)
	ar -r libBEM.a $(bem)

.f90.o:
	$(FC) -c $(FFLAGS) $(PWD)/shared/precision.f90
	$(FC) -c $(FFLAGS) $(PWD)/bem/bem_lib.f90
	
clean:
	rm *.o *.mod

install:
	rm *.o
	mv *.mod ../../include
	mv *.a ../../lib
