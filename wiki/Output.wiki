#summary ParaFEM ASCII output decks explained
#sidebar TOC
<wiki:toc max_depth="2" />

= Introduction =

This page describes the format of the ParaFEM ASCII output decks. The output decks comprise a number of separate files:

||*File extension*||*Content*||*Output by program*||
||{{{.dis}}}|| Nodal displacements||p121, p1211||
||{{{.str}}}  || Stress tensor||p121||
||{{{.pri}}}  || Principal stress||p121||
||{{{.vms}}}|| Von Mises stress||p121||
||{{{.rea}}}|| Reactions||p121||

The philosophy behind having separate files is that it reduces the burden of data transfer when running very large problems on parallel supercomputers. An enhancement to ParaFEM for those running smaller problems would be to allow the user to decide whether to use a single output file or have several separate files as defined here.

= The .dis file =

A typical ".dis" file has the following format:

{{{
keyword
step-1
nodeID-1   x-displacement  y-displacement  z-displacement
nodeID-2   x-displacement  y-displacement  z-displacement
nodeID-3   x-displacement  y-displacement  z-displacement
...
nodeID-nn  x-displacement  y-displacement  z-displacement
}}}

|| *Variable Name* || *Type* || *Purpose* ||
||{{{keyword}}} || Character || A label that identifies the type of output. Here the value is {{{*STRESS}}}.||
||{{{step}}} || Integer || Output step number in analysis with multiple load increments and/or time steps.||
||{{{nodeID}}} || Integer || A unique number that identifies the node. ParaFEM assumes sequential numbering from 1 to {{{nn}}}, shown here as {{{nodeID-1, nodeID-2, nodeID-3, ... , nodeID-nn}}}.||
||{{{x-displacement}}} || Real || Value of the X displacement at the node.||
||{{{y-displacement}}} || Real || Value of the Y displacement at the node.||
||{{{z-displacement}}} || Real || Value of the Z displacement at the node.||
||{{{nn}}} || Integer || Total number of nodes in the mesh.||

A real example follows:

{{{
*DISPLACEMENT
            1
       1  0.0000E+00  0.0000E+00  0.0000E+00
       2  0.0000E+00 -3.0271E-02  0.0000E+00
       3  0.0000E+00 -1.2309E-03  0.0000E+00
      
       .
       .
       .
      
      46 -7.5440E-03 -1.1737E-02 -7.3349E-03
}}}

= The .str file =

A typical ".str" file has the following format:

{{{
keyword
step-1
nodeID-1   sxx  syy  szz  syz  szx  sxy
nodeID-2   sxx  syy  szz  syz  szx  sxy
nodeID-3   sxx  syy  szz  syz  szx  sxy
...
nodeID-nn  sxx  syy  szz  syz  szx  sxy
}}}

|| *Variable Name* || *Type* || *Purpose* ||
||{{{keyword}}} || Character || A label that identifies the type of output. Here the value is {{{*DISPLACEMENT}}}.||
||{{{step}}} || Integer || Output step number in analysis with multiple load increments and/or time steps.||
||{{{nodeID}}} || Integer || A unique number that identifies the node. ParaFEM assumes sequential numbering from 1 to {{{nn}}}, shown here as {{{nodeID-1, nodeID-2, nodeID-3, ... , nodeID-nn}}}.||
||{{{sxx}}} || Real || Normal stress component acting in the x direction on the plane perpendicular to x axis.||
||{{{syy}}} || Real || Normal stress component acting in the y direction on the plane perpendicular to y axis.||
||{{{szz}}} || Real || Normal stress component acting in the z direction on the plane perpendicular to z axis.||
||{{{syz}}} || Real || Shear stress component acting in the y direction on the plane perpendicular to z axis.||
||{{{szx}}} || Real || Shear stress component acting in the z direction on the plane perpendicular to x axis.||
||{{{sxy}}} || Real || Shear stress component acting in the x direction on the plane perpendicular to y axis.||
||{{{nn}}} || Integer || Total number of nodes in the mesh.||

A real example follows:

{{{
*STRESS
       1
       1 -1.3564E+00 -2.6708E+00 -8.6496E-01 -2.8340E-01 -1.2612E-01 -1.8275E-02
       2 -3.0094E-01 -1.1312E+00 -4.9880E-01 -7.2354E-01 -4.9339E-01  3.1996E-01
       3 -1.4589E-01 -2.0571E-01 -2.4897E-01 -9.7981E-02 -1.1620E-01  5.7801E-02
      
       .
       .
       .
      
      46 -1.4139E+00 -1.6881E+00 -1.3915E+00 -4.3127E-01 -4.1357E-01 -2.3707E-01
}}}

= The .pri file =

A typical ".pri" file has the following format:

{{{
keyword
step-1
nodeID-1   s1  s2  s3
nodeID-2   s1  s2  s3
nodeID-3   s1  s2  s3
...
nodeID-nn  s1  s2  s3
}}}

|| *Variable Name* || *Type* || *Purpose* ||
||{{{keyword}}} || Character || A label that identifies the type of output. Here the value is {{{*PRINCIPAL STRESS}}}.||
||{{{step}}} || Integer || Output step number in analysis with multiple load increments and/or time steps.||
||{{{nodeID}}} || Integer || A unique number that identifies the node. ParaFEM assumes sequential numbering from 1 to {{{nn}}}, shown here as {{{nodeID-1, nodeID-2, nodeID-3, ... , nodeID-nn}}}.||
||{{{s1}}} || Real || Maximum principal stress.||
||{{{s2}}} || Real || Second principal stress.||
||{{{s3}}} || Real || Minimum principal stress.||
||{{{nn}}} || Integer || Total number of nodes in the mesh.||

A real example follows:

{{{
*PRINCIPAL STRESS
            1
       1 -6.6082E-01 -1.3788E+00 -2.8525E+00
       2  6.2651E-01 -7.3666E-01 -1.8208E+00
       3  1.0954E-01 -1.4445E-01 -5.6567E-01
      
       .
       .
       .
      
      46 -8.5381E-01 -1.1626E+00 -2.4771E+00
}}}

= The .vms file =

A typical ".vms" file has the following format:

{{{
keyword
step-1
nodeID-1   seq  0.0000E+00  0.0000E+00
nodeID-2   seq  0.0000E+00  0.0000E+00
nodeID-3   seq  0.0000E+00  0.0000E+00
...
nodeID-nn  seq  0.0000E+00  0.0000E+00
}}}

|| *Variable Name* || *Type* || *Purpose* ||
||{{{keyword}}} || Character || A label that identifies the type of output. Here the value is {{{*MISES STRESS}}}.||
||{{{step}}} || Integer || Output step number in analysis with multiple load increments and/or time steps.||
||{{{nodeID}}} || Integer || A unique number that identifies the node. ParaFEM assumes sequential numbering from 1 to {{{nn}}}, shown here as {{{nodeID-1, nodeID-2, nodeID-3, ... , nodeID-nn}}}.||
||{{{seq}}} || Real || The von Mises stress or equivalent stress.||
||{{{nn}}} || Integer || Total number of nodes in the mesh.||

A real example follows:

{{{
*MISES STRESS
            1
       1  1.9353E+00  0.0000E+00  0.0000E+00
       2  2.1240E+00  0.0000E+00  0.0000E+00
       3  5.9070E-01  0.0000E+00  0.0000E+00
      
       .
       .
       .
      
      46  1.4930E+00  0.0000E+00  0.0000E+00
}}}

_Note: von Mises stress is a scalar value. Only the values in the first column should be used in any visualization. The second and third columns are dummy columns filled with zeros for the purpose of reading the file in the ParaFEM-Viewer. See Future enhancements below for further explanation._

= Future enhancements =

We'd like to change the file formats to contain scalar, vector and tensor information. This will reduce the number of file types down to 3. Currently, the only file format that contains scalar information is a file with the .ttr extension and a {{{*TEMPERATURE}}} keyword. Placing the scalar Von Mises stress data in a file for temperature is more confusing than adding zeros to a vector file format. The current barrier to change is available programming effort.