#summary Documentation for User Material Subroutines (UMATs).
#sidebar TOC

= Introduction =

NAG Ltd have provided funding to develop an interface for user materials. Once implemented, this will expand the range of material types available for use with ParaFEM. The funding is provided by NAG Ltd on behalf of EPSRC as part of HECToR's distributed computational engineering and science support mechanism (HECToR dCSE). For convenience, we have adopted the UMAT interface defined by Abaqus. For further details, please see the following [http://www.parafem.org.uk/index.php?option=com_content&view=article&id=42:microstructurally-faithful-modelling-of-materials&catid=22:materials-science&Itemid=57 project entry] on the [http://www.parafem.org.uk main ParaFEM website].


= Abaqus UMAT Interface =

The arguments to the Abaqus subroutine are as follows:

{{{
 SUBROUTINE UMAT(STRESS,STATEV,DDSDDE,SSE,SPD,SCD,
1 RPL,DDSDDT,DRPLDE,DRPLDT,
2 STRAN,DSTRAN,TIME,DTIME,TEMP,DTEMP,PREDEF,DPRED,CMNAME,
3 NDI,NSHR,NTENS,NSTATV,PROPS,NPROPS,COORDS,DROT,PNEWDT,
4 CELENT,DFGRD0,DFGRD1,NOEL,NPT,LAYER,KSPT,KSTEP,KINC)
}}}

||*Variable Name*||*S&G Equivalent*||*Type*||*Meaning*||
||{{{STRESS(NTENS)}}}||{{{sigma}}}||Real array||Stress terms||
||{{{STATEV(NSTATV)}}}||{{{-}}}||-||Solution-dependent state variables||
||{{{DDSDDE(NTENS,NTENS)}}}||{{{dee}}}||Real array||Stress-strain matrix||
||{{{SSE}}}||{{{-}}}||Scalar real||Elastic strain energy||
||{{{SPD}}}||{{{-}}}||Scalar real||Plastic dissipation||
||{{{SCD}}}||{{{-}}}||Scalar real||Creep dissipation||
||{{{RPL}}}||{{{-}}}||Scalar real||Volumetric heat generation||
||{{{DDSDDT(NTENS)}}}||{{{-}}}||Real array||Variation of the stress increments with respect to the temperature||
||{{{DRPLDE(NTENS)}}}||{{{-}}}||Real array||Variation of RPL with respect to the strain increments||
||{{{DRPLDT(NTENS)}}}||{{{-}}}||-||Variation of RPL with respect to the temperature||
||{{{STRAN(NTENS)}}}||{{{-}}}||Real array||Total strain increment||
||{{{DSTRAN(NTENS)}}}||{{{-}}}||Real array||Mechanical strain increment ||
||{{{TIME(1)}}}||{{{-}}}||Real array||Step time at beginning of increment||
||{{{TIME(2)}}}||{{{-}}}||Real array||Total time at beginning of increment||
||{{{DTIME}}}||{{{-}}}||Scalar real||Time increment||
||{{{TEMP}}}||{{{-}}}||Scalar real||Temperature at the start of the increment||
||{{{DTEMP}}}||{{{-}}}||Scalar real||Increment of temperature||
||{{{PREDEF()}}}||{{{-}}}||Real array||Interpolated values of predefined field variables||
||{{{DPRED()}}}||{{{-}}}||Real array||Array of increments of predefined field variables||
||{{{CMNAME}}}||{{{-}}}||Scalar character||User-defined material name (Avoid ABQ as leading string)||
||{{{NDI}}}||{{{-}}}||Scalar integer||Number of direct stress components||
||{{{NSHR}}}||{{{-}}}||Scalar integer||Number of engineering shear stress components||
||{{{NTENS}}}||{{{nst}}}||Scalar integer||Size of the stress or strain component array (NDI + NSHR)||
||{{{NSTATV}}}||{{{-}}}||Scalar integer||Number of solution-dependent state variables||
||{{{PROPS(NPROPS)}}}||{{{prop}}}||Real array||Material properties||
||{{{NPROPS}}}||{{{nprops}}}||Scalar integer||Number of material properties||
||{{{COORDS()}}}||{{{points}}}||Real array||Integrating point coordinates||
||{{{DROT(3,3)}}}||{{{-}}}||Real array||Rotation increment matrix||
||{{{PNEWDT}}}||{{{-}}}||-||-||
||{{{CELENT}}}||{{{-}}}||Scalar real||Characteristic element length||
||{{{DFGRD0(3,3)}}}||{{{-}}}||Real array||Deformation gradient at beginning of increment||
||{{{DFGRD1(3,3)}}}||{{{-}}}||Real array||Deformation gradient at end of increment||
||{{{NOEL}}}||{{{iel}}}||Scalar integer||Element number||
||{{{NPT}}}||{{{i}}}||Scalar integer||Integration point number||
||{{{LAYER}}}||{{{-}}}||Scalar integer||Layer number (for composite shells and layered solids)||
||{{{KSPT}}}||{{{-}}}||Scalar integer||Section point number in current layer||
||{{{KSTEP}}}||{{{iy}}}||Scalar integer||Step number||
||{{{KINC}}}||{{{iters}}}||Scalar integer||Increment number||

Further details can be found [http://abaqusdoc.ucalgary.ca/v6.9/books/sub/default.htm here].